(()=>{"use strict";var t,e,r,n,o={971:(t,e,r)=>{r.a(t,(async(t,e)=>{try{var n=r(107),o=r(334),c=r(526),a=r(321),s=r(431),u=r(34);(0,o.h)(),s.s;const i=document.querySelector(".products-home__products"),d=document.querySelector(".load-more-btn"),l=document.querySelector(".offers-home__products");d.addEventListener("click",y);let p=8;const _=8;function y(){(0,u.X)().then((t=>{(0,a.r)(t,p,p+_,i),p+=_,p>=t.length&&(d.style.display="none")}))}await(0,c.a)(0,8,i),await(0,c.a)(12,16,l),(0,n.N)(),e()}catch(b){e(b)}}),1)},107:(t,e,r)=>{function n(){const t=document.querySelectorAll(".product__button"),e=document.querySelector(".cart__list"),r=JSON.parse(localStorage.getItem("products"))||[];function n(t){e.insertAdjacentHTML("beforeend",`<li class="cart-product" id="${t.id}">\n        <img src="${t.image}" alt="${t.title}" />\n        <div>\n          <h6 class="text text--h6">${t.title}</h6>\n          <p class="product__price">${t.price}</p>\n\n          <div class="product-quantity">\n            <button class="product-quantity__button product-quantity__button--decrease" type="button">â€“</button>\n            <input class="product-quantity__input" type="text" value="${t.quantity}" />\n            <button class="product-quantity__button product-quantity__button--increase" type="button">+</button>\n          </div>\n        </div>\n        <button class="cart-product__delete" type="button">\n          <svg width="24" height="24">\n\t\t\t\t\t\t<use href="./images/icons.svg#icon-trash"></use>\n\t\t\t\t\t</svg>\n        </button>\n      </li>`)}function o(t){t.disabled=!0,t.innerText="In Cart",t.parentNode.style.opacity="1",t.parentNode.parentNode.style.pointerEvents="none"}function c(){const t=document.querySelector(".cart__notification"),r=document.querySelector(".cart__total");e.children.length>0?(t.classList.add("visually-hidden"),r.classList.remove("visually-hidden")):(t.classList.remove("visually-hidden"),r.classList.add("visually-hidden"))}function a(){const t=document.querySelectorAll(".product-quantity__input"),e=document.querySelector(".header-actions__cart-qty");let r=0;t.forEach((t=>{r+=parseInt(t.value)})),e.innerText=`Cart (${r})`}function s(){const t=document.querySelectorAll(".cart-product"),e=document.querySelector(".cart__total-value");let r=0;t.forEach((t=>{const e=t.querySelector(".product-quantity__input"),n=t.querySelector(".product__price"),o=parseInt(e.value)*parseFloat(n.innerText.slice(1));r+=o})),e.innerText=r.toFixed(2)}r.forEach((t=>{n(t)})),c(),t.forEach((t=>{r.some((e=>e.id===t.parentNode.parentNode.id))&&o(t)})),document.addEventListener("click",(t=>{if(t.target.closest(".product__button")){const e=t.target.parentNode.parentNode,u=e.id,i=e.querySelector(".product__image").getAttribute("src"),d=e.querySelector(".product__title").innerText,l={normal:e.querySelector(".product__price").innerText,discounted:e.querySelector(".product__discount")?.innerText},p={id:u,image:i,title:d,price:l.discounted?l.discounted:l.normal,quantity:1};n(p),r.push(p),localStorage.setItem("products",JSON.stringify(r)),o(t.target),a(),s(),c()}})),document.addEventListener("click",(t=>{if(t.target.closest(".cart-product__delete")){const e=t.target.parentNode,n=r.filter((t=>t.id!==e.id));r.splice(0,r.length,...n),localStorage.setItem("products",JSON.stringify(n)),e.remove();const o=document.getElementById(e.id),u=o.querySelector(".product__button-backdrop"),i=o.querySelector(".product__button");i.disabled=!1,i.innerText="Add To Cart",u.style.opacity="0",o.style.pointerEvents="all",a(),s(),c()}})),document.addEventListener("click",(t=>{if(t.target.closest(".product-quantity__button")){const e=t.target.parentNode.querySelector(".product-quantity__input"),n=t.target.closest(".cart-product").id,o=r.findIndex((t=>t.id===n));if(t.target.closest(".product-quantity__button--increase")){if(99==e.value)return;e.value=++e.value}if(t.target.closest(".product-quantity__button--decrease")){if(1==e.value)return;e.value=--e.value}s(),a(),r[o]={...r[o],quantity:e.value},localStorage.setItem("products",JSON.stringify(r))}})),a(),s()}r.d(e,{N:()=>n})},334:(t,e,r)=>{function n(){const t=document.querySelectorAll(".counters"),e=new IntersectionObserver((function(t){t.forEach((t=>{t.isIntersecting&&(".counters__number","data-number",document.querySelectorAll(".counters__number").forEach((t=>{let e=0;const r=parseInt(t.getAttribute("data-number")),n=Math.floor(1500/r),o=setInterval((()=>{e+=1,t.textContent=e,e==r&&clearInterval(o)}),n)})))}))}));t.forEach((t=>{e.observe(t)}))}r.d(e,{h:()=>n})},526:(t,e,r)=>{r.d(e,{a:()=>c});var n=r(34),o=r(321);async function c(t,e,r){await(0,n.X)().then((n=>{(0,o.r)(n,t,e,r)}))}},321:(t,e,r)=>{function n(t,e,r,n){t.slice(e,r).forEach((t=>{const e=Number(t.price),r=e-e*Number(t.discount)/100;n.insertAdjacentHTML("beforeend",`<li class="product" id="${t.id}">\n        <span class="product__tag">${t.tag}</span>\n        <img class="product__image" src="${t.image}" alt="${t.title}" />\n        <div class="product__details">\n          <h5 class="product__title">${t.title}</h5>\n          <div class="product__footer">\n            <span>\n              <span class="product__price ${t.discount?"product__price--discounted":""}"\n              >$${t.price.toFixed(2)}</span>\n                ${t.discount?`<span class="product__discount">\n                $${r.toFixed(2)}\n                </span>`:""}\n            </span>\n            <svg width="84" height="18">\n              <use href="./images/icons.svg#icon-stars"></use>\n            </svg>\n          </div>\n        </div>\n        <div class="product__button-backdrop">\n          <button class="product__button" type="button">Add To Cart</button>\n        </div>\n      </li>`)}))}r.d(e,{r:()=>n})},431:(t,e,r)=>{r.d(e,{s:()=>n});const n=new Swiper(".swiper",{loop:!0,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0}})},34:(t,e,r)=>{r.d(e,{X:()=>o});const n="https://raw.githubusercontent.com/Sercezhar/sl-organick-shop/gh-pages/data/global.twig.json";function o(){return fetch(n).then((t=>t.json())).then((t=>t.products))}}},c={};function a(t){var e=c[t];if(void 0!==e)return e.exports;var r=c[t]={exports:{}};return o[t](r,r.exports,a),r.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(o,c,a)=>{var s;a&&((s=[]).d=-1);var u,i,d,l=new Set,p=o.exports,_=new Promise(((t,e)=>{d=e,i=t}));_[e]=p,_[t]=t=>(s&&t(s),l.forEach(t),_.catch((t=>{}))),o.exports=_,c((o=>{var c;u=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var c=[];c.d=0,o.then((t=>{a[e]=t,n(c)}),(t=>{a[r]=t,n(c)}));var a={};return a[t]=t=>t(c),a}}var s={};return s[t]=t=>{},s[e]=o,s})))(o);var a=()=>u.map((t=>{if(t[r])throw t[r];return t[e]})),i=new Promise((e=>{(c=()=>e(a)).r=0;var r=t=>t!==s&&!l.has(t)&&(l.add(t),t&&!t.d&&(c.r++,t.push(c)));u.map((e=>e[t](r)))}));return c.r?i:a()}),(t=>(t?d(_[r]=t):i(p),n(s)))),s&&s.d<0&&(s.d=0)},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(971)})();
//# sourceMappingURL=index.min.js.map
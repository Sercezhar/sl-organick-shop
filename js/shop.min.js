(()=>{"use strict";var t,e,r,n,o={107:(t,e,r)=>{r.d(e,{N:()=>o});var n=r(763);function o(){const t=document.querySelectorAll(".product__button"),e=document.querySelector(".cart__list"),r=JSON.parse(localStorage.getItem("products"))||[];function o(t){e.insertAdjacentHTML("beforeend",`<li class="cart-product" id="${t.id}">\n        <img src="${t.image}" alt="${t.title}" />\n        <div>\n          <h6 class="text text--h6">${t.title}</h6>\n          <p class="product__price">${t.price}</p>\n\n          <div class="product-quantity">\n            <button class="product-quantity__button product-quantity__button--decrease" type="button">â€“</button>\n            <input class="product-quantity__input" type="text" value="${t.quantity}" />\n            <button class="product-quantity__button product-quantity__button--increase" type="button">+</button>\n          </div>\n        </div>\n        <button class="cart-product__delete" type="button">\n          <svg width="24" height="24">\n\t\t\t\t\t\t<use href="./images/icons.svg#icon-trash"></use>\n\t\t\t\t\t</svg>\n        </button>\n      </li>`)}function c(){const t=document.querySelector(".cart__notification"),r=document.querySelector(".cart__total");e.children.length>0?(t.classList.add("visually-hidden"),r.classList.remove("visually-hidden")):(t.classList.remove("visually-hidden"),r.classList.add("visually-hidden"))}function a(){const t=document.querySelectorAll(".product-quantity__input"),e=document.querySelector(".header-actions__cart-qty");let r=0;t.forEach((t=>{r+=parseInt(t.value)})),e.innerText=`Cart (${r})`}function i(){const t=document.querySelectorAll(".cart-product"),e=document.querySelector(".cart__total-value");let r=0;t.forEach((t=>{const e=t.querySelector(".product-quantity__input"),n=t.querySelector(".product__price"),o=parseInt(e.value)*parseFloat(n.innerText.slice(1));r+=o})),e.innerText=r.toFixed(2)}r.forEach((t=>{o(t)})),c(),t.forEach((t=>{const e=t.parentNode.parentNode.id;r.some((t=>t.id===e))&&(0,n.H)(e)})),document.addEventListener("click",(t=>{if(t.target.closest(".product__button")){const e=t.target.parentNode.parentNode,u=e.id,s=e.querySelector(".product__image").getAttribute("src"),d=e.querySelector(".product__title").innerText,l={normal:e.querySelector(".product__price").innerText,discounted:e.querySelector(".product__discount")?.innerText},p={id:u,image:s,title:d,price:l.discounted?l.discounted:l.normal,quantity:1};o(p),r.push(p),localStorage.setItem("products",JSON.stringify(r)),(0,n.H)(u),a(),i(),c()}})),document.addEventListener("click",(t=>{if(t.target.closest(".cart-product__delete")){const e=t.target.parentNode,o=r.filter((t=>t.id!==e.id));r.splice(0,r.length,...o),localStorage.setItem("products",JSON.stringify(o)),e.remove(),(0,n.H)(e.id,!1),a(),i(),c()}})),document.addEventListener("click",(t=>{if(t.target.closest(".product-quantity__button")){const e=t.target.parentNode.querySelector(".product-quantity__input"),n=t.target.closest(".cart-product").id,o=r.findIndex((t=>t.id===n));if(t.target.closest(".product-quantity__button--increase")){if(99==e.value)return;e.value=++e.value}if(t.target.closest(".product-quantity__button--decrease")){if(1==e.value)return;e.value=--e.value}i(),a(),r[o]={...r[o],quantity:e.value},localStorage.setItem("products",JSON.stringify(r))}})),a(),i()}},526:(t,e,r)=>{r.d(e,{a:()=>c});var n=r(34),o=r(321);async function c(t,e,r){await(0,n.X)().then((n=>{(0,o.r)(n,t,e,r)}))}},321:(t,e,r)=>{function n(t,e,r,n){t.slice(e,r).forEach((t=>{const e=Number(t.price),r=e-e*Number(t.discount)/100;n.insertAdjacentHTML("beforeend",`<li class="product" id="${t.id}">\n        <span class="product__tag">${t.tag}</span>\n        <img class="product__image" src="${t.image}" alt="${t.title}" />\n        <div class="product__details">\n          <h5 class="product__title">${t.title}</h5>\n          <div class="product__footer">\n            <span>\n              <span class="product__price ${t.discount?"product__price--discounted":""}"\n              >$${t.price.toFixed(2)}</span>\n                ${t.discount?`<span class="product__discount">\n                $${r.toFixed(2)}\n                </span>`:""}\n            </span>\n            <svg width="84" height="18">\n              <use href="./images/icons.svg#icon-stars"></use>\n            </svg>\n          </div>\n        </div>\n        <div class="product__button-backdrop">\n          <button class="product__button" type="button">Add To Cart</button>\n        </div>\n      </li>`)}))}r.d(e,{r:()=>n})},763:(t,e,r)=>{function n(t,e=!0){document.querySelectorAll(`main [id="${t}" ]`).forEach((t=>{const r=t.querySelector(".product__button-backdrop"),n=t.querySelector(".product__button");e?(n.disabled=!0,n.innerText="In Cart",r.style.opacity="1",t.style.pointerEvents="none"):(n.disabled=!1,n.innerText="Add To Cart",r.style.opacity="0",t.style.pointerEvents="all")}))}r.d(e,{H:()=>n})},34:(t,e,r)=>{r.d(e,{X:()=>o});const n="https://raw.githubusercontent.com/Sercezhar/sl-organick-shop/gh-pages/data/global.twig.json";function o(){return fetch(n).then((t=>t.json())).then((t=>t.products))}},452:(t,e,r)=>{r.a(t,(async(t,e)=>{try{var n=r(107),o=r(526);const t=document.querySelector(".shop-products__list");await(0,o.a)(0,16,t),(0,n.N)(),e()}catch(t){e(t)}}),1)}},c={};function a(t){var e=c[t];if(void 0!==e)return e.exports;var r=c[t]={exports:{}};return o[t](r,r.exports,a),r.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(o,c,a)=>{var i;a&&((i=[]).d=-1);var u,s,d,l=new Set,p=o.exports,_=new Promise(((t,e)=>{d=e,s=t}));_[e]=p,_[t]=t=>(i&&t(i),l.forEach(t),_.catch((t=>{}))),o.exports=_,c((o=>{var c;u=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var c=[];c.d=0,o.then((t=>{a[e]=t,n(c)}),(t=>{a[r]=t,n(c)}));var a={};return a[t]=t=>t(c),a}}var i={};return i[t]=t=>{},i[e]=o,i})))(o);var a=()=>u.map((t=>{if(t[r])throw t[r];return t[e]})),s=new Promise((e=>{(c=()=>e(a)).r=0;var r=t=>t!==i&&!l.has(t)&&(l.add(t),t&&!t.d&&(c.r++,t.push(c)));u.map((e=>e[t](r)))}));return c.r?s:a()}),(t=>(t?d(_[r]=t):s(p),n(i)))),i&&i.d<0&&(i.d=0)},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(452)})();
//# sourceMappingURL=shop.min.js.map
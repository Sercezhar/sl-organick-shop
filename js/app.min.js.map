{"version":3,"file":"app.min.js","mappings":"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","sources":["webpack://sl-organick-shop/./src/js/modules/menu.js","webpack://sl-organick-shop/./src/js/modules/dynamicAdapt.js","webpack://sl-organick-shop/./src/js/app.js","webpack://sl-organick-shop/./src/js/modules/navDropdown.js"],"sourcesContent":["export function menu(openBtn, closeBtn, menu) {\r\n  const btnOpen = document.querySelector(openBtn);\r\n  const btnClose = document.querySelector(closeBtn);\r\n  const menuBackdrop = document.querySelector(menu);\r\n  const body = document.querySelector('body');\r\n\r\n  window.addEventListener(\r\n    'resize',\r\n    () => window.innerWidth > 1360 && closeMenu()\r\n  );\r\n  btnOpen.addEventListener('click', openMenu);\r\n  btnClose.addEventListener('click', closeMenu);\r\n  menuBackdrop.addEventListener('click', closeMenu);\r\n\r\n  const menuActiveClass = `${menu.slice(1)}--active`;\r\n\r\n  function openMenu() {\r\n    menuBackdrop.classList.add(menuActiveClass);\r\n    body.classList.add('locked');\r\n  }\r\n\r\n  function closeMenu() {\r\n    menuBackdrop.classList.remove(menuActiveClass);\r\n    body.classList.remove('locked');\r\n  }\r\n}\r\n","/**\r\n * @typedef {Object} dNode\r\n * @property {HTMLElement} parent\r\n * @property {HTMLElement} element\r\n * @property {HTMLElement} to\r\n * @property {string} breakpoint\r\n * @property {string} order\r\n * @property {number} index\r\n */\r\n\r\n/**\r\n * @typedef {Object} dMediaQuery\r\n * @property {string} query\r\n * @property {number} breakpoint\r\n */\r\n\r\n/**\r\n * @param {'min' | 'max'} type\r\n */\r\n\r\nexport function useDynamicAdapt(type = 'max') {\r\n  const className = '_dynamic_adapt_';\r\n  const attrName = 'data-da';\r\n\r\n  /** @type {dNode[]} */\r\n  const dNodes = getDNodes();\r\n\r\n  /** @type {dMediaQuery[]} */\r\n  const dMediaQueries = getDMediaQueries(dNodes);\r\n\r\n  dMediaQueries.forEach(dMediaQuery => {\r\n    const matchMedia = window.matchMedia(dMediaQuery.query);\r\n    const filteredDNodes = dNodes.filter(\r\n      ({ breakpoint }) => breakpoint === dMediaQuery.breakpoint\r\n    );\r\n    const mediaHandler = getMediaHandler(matchMedia, filteredDNodes);\r\n    matchMedia.addEventListener('change', mediaHandler);\r\n\r\n    mediaHandler();\r\n  });\r\n\r\n  function getDNodes() {\r\n    const result = [];\r\n    const elements = [...document.querySelectorAll(`[${attrName}]`)];\r\n\r\n    elements.forEach(element => {\r\n      const attr = element.getAttribute(attrName);\r\n      const [toSelector, breakpoint, order] = attr\r\n        .split(',')\r\n        .map(val => val.trim());\r\n\r\n      const to = document.querySelector(toSelector);\r\n\r\n      if (to) {\r\n        result.push({\r\n          parent: element.parentElement,\r\n          element,\r\n          to,\r\n          breakpoint: breakpoint ?? '767',\r\n          order:\r\n            order !== undefined\r\n              ? isNumber(order)\r\n                ? Number(order)\r\n                : order\r\n              : 'last',\r\n          index: -1,\r\n        });\r\n      }\r\n    });\r\n\r\n    return sortDNodes(result);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} items\r\n   * @returns {dMediaQuery[]}\r\n   */\r\n  function getDMediaQueries(items) {\r\n    const uniqItems = [\r\n      ...new Set(\r\n        items.map(\r\n          ({ breakpoint }) => `(${type}-width: ${breakpoint}px),${breakpoint}`\r\n        )\r\n      ),\r\n    ];\r\n\r\n    return uniqItems.map(item => {\r\n      const [query, breakpoint] = item.split(',');\r\n\r\n      return { query, breakpoint };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {MediaQueryList} matchMedia\r\n   * @param {dNodes} items\r\n   */\r\n  function getMediaHandler(matchMedia, items) {\r\n    return function mediaHandler() {\r\n      if (matchMedia.matches) {\r\n        items.forEach(item => {\r\n          moveTo(item);\r\n        });\r\n\r\n        items.reverse();\r\n      } else {\r\n        items.forEach(item => {\r\n          if (item.element.classList.contains(className)) {\r\n            moveBack(item);\r\n          }\r\n        });\r\n\r\n        items.reverse();\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} dNode\r\n   */\r\n  function moveTo(dNode) {\r\n    const { to, element, order } = dNode;\r\n    dNode.index = getIndexInParent(dNode.element, dNode.element.parentElement);\r\n    element.classList.add(className);\r\n\r\n    if (order === 'last' || order >= to.children.length) {\r\n      to.append(element);\r\n\r\n      return;\r\n    }\r\n\r\n    if (order === 'first') {\r\n      to.prepend(element);\r\n\r\n      return;\r\n    }\r\n\r\n    to.children[order].before(element);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} dNode\r\n   */\r\n  function moveBack(dNode) {\r\n    const { parent, element, index } = dNode;\r\n    element.classList.remove(className);\r\n\r\n    if (index >= 0 && parent.children[index]) {\r\n      parent.children[index].before(element);\r\n    } else {\r\n      parent.append(element);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @param {HTMLElement} parent\r\n   */\r\n  function getIndexInParent(element, parent) {\r\n    return [...parent.children].indexOf(element);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode[]} items\r\n   */\r\n  function sortDNodes(items) {\r\n    const isMin = type === 'min' ? 1 : 0;\r\n\r\n    return [...items].sort((a, b) => {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.order === b.order) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.order === 'first' || b.order === 'last') {\r\n          return -1 * isMin;\r\n        }\r\n\r\n        if (a.order === 'last' || b.order === 'first') {\r\n          return 1 * isMin;\r\n        }\r\n\r\n        return 0;\r\n      }\r\n\r\n      return (a.breakpoint - b.breakpoint) * isMin;\r\n    });\r\n  }\r\n\r\n  function isNumber(value) {\r\n    return !isNaN(value);\r\n  }\r\n}\r\n","import { useDynamicAdapt } from './modules/dynamicAdapt';\r\nimport { menu } from './modules/menu';\r\nimport { navDropdown } from './modules/navDropdown';\r\n\r\nuseDynamicAdapt();\r\nmenu('.header__burger', '.menu__btn-close', '.menu__backdrop');\r\nmenu('.header-actions__button--cart', '.cart__close', '.cart__backdrop');\r\nnavDropdown();\r\n","export function navDropdown() {\r\n  const container = document.querySelector('.menu-dropdown');\r\n  const trigger = document.querySelector('.menu-dropdown__btn');\r\n  const options = document.querySelector('.menu-dropdown__options');\r\n  const icon = document.querySelector('.menu-dropdown__icon');\r\n\r\n  document.addEventListener('click', onClickOutside);\r\n\r\n  const triggerActiveClass = 'menu-dropdown__btn--active';\r\n  const iconActiveClass = 'menu-dropdown__icon--rotate';\r\n\r\n  function hideOptions() {\r\n    options.classList.add('menu-dropdown__options--hidden');\r\n    trigger.classList.remove(triggerActiveClass);\r\n    icon.classList.remove(iconActiveClass);\r\n  }\r\n\r\n  function onClickOutside(event) {\r\n    if (!container.contains(event.target)) {\r\n      hideOptions();\r\n    } else if (trigger.contains(event.target)) {\r\n      options.classList.toggle('menu-dropdown__options--hidden');\r\n      trigger.classList.toggle(triggerActiveClass);\r\n      icon.classList.toggle(iconActiveClass);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n}\r\n"],"names":["menu","openBtn","closeBtn","btnOpen","document","querySelector","btnClose","menuBackdrop","body","window","addEventListener","innerWidth","closeMenu","classList","add","menuActiveClass","slice","remove","type","className","attrName","dNodes","result","querySelectorAll","forEach","element","attr","getAttribute","toSelector","breakpoint","order","split","map","val","trim","to","value","push","parent","parentElement","undefined","isNaN","Number","index","items","isMin","sort","a","b","sortDNodes","getDNodes","Set","item","query","dMediaQuery","matchMedia","mediaHandler","matches","dNode","children","indexOf","getIndexInParent","length","append","before","prepend","moveTo","reverse","contains","moveBack","getMediaHandler","filter","useDynamicAdapt","container","trigger","options","icon","event","target","toggle","triggerActiveClass","iconActiveClass","navDropdown"],"sourceRoot":""}
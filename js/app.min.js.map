{"version":3,"file":"app.min.js","mappings":"oBAoBO,SAAyBA,EAAO,OACrC,MAAMC,EAAY,kBACZC,EAAW,UAGXC,EAgBN,WACE,MAAMC,EAAS,GA4Bf,MA3BiB,IAAIC,SAASC,iBAAiB,IAAIJ,OAE1CK,SAAQC,IACf,MAAMC,EAAOD,EAAQE,aAAaR,IAC3BS,EAAYC,EAAYC,GAASJ,EACrCK,MAAM,KACNC,KAAIC,GAAOA,EAAIC,SAEZC,EAAKb,SAASc,cAAcR,GA0ItC,IAAkBS,EAxIVF,GACFd,EAAOiB,KAAK,CACVC,OAAQd,EAAQe,cAChBf,UACAU,KACAN,WAAYA,GAAc,MAC1BC,WACYW,IAAVX,GAiIQO,EAhIKP,EAiIbY,MAAML,GA/HAP,EADAa,OAAOb,IAET,OACNc,OAAQ,GAEZ,IAkGJ,SAAoBC,GAClB,MAAMC,EAAiB,QAAT7B,EAAiB,EAAI,EAEnC,MAAO,IAAI4B,GAAOE,MAAK,CAACC,EAAGC,IACrBD,EAAEnB,aAAeoB,EAAEpB,WACjBmB,EAAElB,QAAUmB,EAAEnB,MACT,EAGO,UAAZkB,EAAElB,OAAiC,SAAZmB,EAAEnB,OACnB,EAAIgB,EAGE,SAAZE,EAAElB,OAAgC,UAAZmB,EAAEnB,MACnB,EAAIgB,EAGN,GAGDE,EAAEnB,WAAaoB,EAAEpB,YAAciB,GAE3C,CArHSI,CAAW7B,EACpB,CA9Ce8B,GAqDK,IACb,IAAIC,IAnD4BhC,EAoD3BY,KACJ,EAAGH,gBAAiB,IAAIZ,YAAeY,QAAiBA,QAK7CG,KAAIqB,IACnB,MAAOC,EAAOzB,GAAcwB,EAAKtB,MAAM,KAEvC,MAAO,CAAEuB,QAAOzB,aAAY,IA3DlBL,SAAQ+B,IACpB,MAAMC,EAAaC,OAAOD,WAAWD,EAAYD,OAI3CI,EA8DR,SAAyBF,EAAYX,GACnC,OAAO,WACDW,EAAWG,SACbd,EAAMrB,SAAQ6B,KAoBpB,SAAgBO,GACd,MAAM,GAAEzB,EAAE,QAAEV,EAAO,MAAEK,GAAU8B,EAC/BA,EAAMhB,MAoCR,SAA0BnB,EAASc,GACjC,MAAO,IAAIA,EAAOsB,UAAUC,QAAQrC,EACtC,CAtCgBsC,CAAiBH,EAAMnC,QAASmC,EAAMnC,QAAQe,eAC5Df,EAAQuC,UAAUC,IAAI/C,GAER,SAAVY,GAAoBA,GAASK,EAAG0B,SAASK,OAC3C/B,EAAGgC,OAAO1C,GAKE,UAAVK,EAMJK,EAAG0B,SAAS/B,GAAOsC,OAAO3C,GALxBU,EAAGkC,QAAQ5C,EAMf,CArCQ6C,CAAOjB,EAAK,IAGdR,EAAM0B,YAEN1B,EAAMrB,SAAQ6B,IACRA,EAAK5B,QAAQuC,UAAUQ,SAAStD,IAoC5C,SAAkB0C,GAChB,MAAM,OAAErB,EAAM,QAAEd,EAAO,MAAEmB,GAAUgB,EACnCnC,EAAQuC,UAAUS,OAAOvD,GAErB0B,GAAS,GAAKL,EAAOsB,SAASjB,GAChCL,EAAOsB,SAASjB,GAAOwB,OAAO3C,GAE9Bc,EAAO4B,OAAO1C,EAElB,CA5CUiD,CAASrB,EACX,IAGFR,EAAM0B,UAEV,CACF,CAhFuBI,CAAgBnB,EAHdpC,EAAOwD,QAC5B,EAAG/C,gBAAiBA,IAAe0B,EAAY1B,cAGjD2B,EAAWqB,iBAAiB,SAAUnB,GAEtCA,GAAc,GA0JlB,CC5LAoB,GCJO,WACL,MAAMC,EAAUzD,SAASc,cAAc,mBACjC4C,EAAW1D,SAASc,cAAc,oBAClC6C,EAAO3D,SAASc,cAAc,mBAC9B8C,EAAO5D,SAASc,cAAc,QAgBpC,SAAS+C,IACPF,EAAKjB,UAAUS,OAAO,0BACtBM,EAAQf,UAAUS,OAAO,0BACzBS,EAAKlB,UAAUS,OAAO,SACxB,CAlBAhB,OAAOoB,iBACL,UACA,IAAMpB,OAAO2B,WAAa,MAAQD,MAEpCJ,EAAQF,iBAAiB,SAIzB,WACEI,EAAKjB,UAAUC,IAAI,0BACnBc,EAAQf,UAAUC,IAAI,0BACtBiB,EAAKlB,UAAUC,IAAI,SACrB,IAPAe,EAASH,iBAAiB,QAASM,GACnCF,EAAKJ,iBAAiB,QAASM,EAajC,CDpBAE,GELO,WACL,MAAMC,EAAYhE,SAASc,cAAc,kBACnCmD,EAAUjE,SAASc,cAAc,uBACjCoD,EAAUlE,SAASc,cAAc,2BACjCqD,EAAOnE,SAASc,cAAc,wBAEpCd,SAASuD,iBAAiB,SAW1B,SAAwBa,GACtB,GAAKJ,EAAUd,SAASkB,EAAMC,QAEvB,KAAIJ,EAAQf,SAASkB,EAAMC,QAKhC,OAJAH,EAAQxB,UAAU4B,OAAO,kCACzBL,EAAQvB,UAAU4B,OAAOC,GACzBJ,EAAKzB,UAAU4B,OAAOE,EAGxB,MAdAN,EAAQxB,UAAUC,IAAI,kCACtBsB,EAAQvB,UAAUS,OAAOoB,GACzBJ,EAAKzB,UAAUS,OAAOqB,EAaxB,IAnBA,MAAMD,EAAqB,6BACrBC,EAAkB,6BAmB1B,CFtBAC,E","sources":["webpack://sl-organick-shop/./src/js/modules/dynamicAdapt.js","webpack://sl-organick-shop/./src/js/app.js","webpack://sl-organick-shop/./src/js/modules/burgerMenu.js","webpack://sl-organick-shop/./src/js/modules/navDropdown.js"],"sourcesContent":["/**\r\n * @typedef {Object} dNode\r\n * @property {HTMLElement} parent\r\n * @property {HTMLElement} element\r\n * @property {HTMLElement} to\r\n * @property {string} breakpoint\r\n * @property {string} order\r\n * @property {number} index\r\n */\r\n\r\n/**\r\n * @typedef {Object} dMediaQuery\r\n * @property {string} query\r\n * @property {number} breakpoint\r\n */\r\n\r\n/**\r\n * @param {'min' | 'max'} type\r\n */\r\n\r\nexport function useDynamicAdapt(type = 'max') {\r\n  const className = '_dynamic_adapt_';\r\n  const attrName = 'data-da';\r\n\r\n  /** @type {dNode[]} */\r\n  const dNodes = getDNodes();\r\n\r\n  /** @type {dMediaQuery[]} */\r\n  const dMediaQueries = getDMediaQueries(dNodes);\r\n\r\n  dMediaQueries.forEach(dMediaQuery => {\r\n    const matchMedia = window.matchMedia(dMediaQuery.query);\r\n    const filteredDNodes = dNodes.filter(\r\n      ({ breakpoint }) => breakpoint === dMediaQuery.breakpoint\r\n    );\r\n    const mediaHandler = getMediaHandler(matchMedia, filteredDNodes);\r\n    matchMedia.addEventListener('change', mediaHandler);\r\n\r\n    mediaHandler();\r\n  });\r\n\r\n  function getDNodes() {\r\n    const result = [];\r\n    const elements = [...document.querySelectorAll(`[${attrName}]`)];\r\n\r\n    elements.forEach(element => {\r\n      const attr = element.getAttribute(attrName);\r\n      const [toSelector, breakpoint, order] = attr\r\n        .split(',')\r\n        .map(val => val.trim());\r\n\r\n      const to = document.querySelector(toSelector);\r\n\r\n      if (to) {\r\n        result.push({\r\n          parent: element.parentElement,\r\n          element,\r\n          to,\r\n          breakpoint: breakpoint ?? '767',\r\n          order:\r\n            order !== undefined\r\n              ? isNumber(order)\r\n                ? Number(order)\r\n                : order\r\n              : 'last',\r\n          index: -1,\r\n        });\r\n      }\r\n    });\r\n\r\n    return sortDNodes(result);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} items\r\n   * @returns {dMediaQuery[]}\r\n   */\r\n  function getDMediaQueries(items) {\r\n    const uniqItems = [\r\n      ...new Set(\r\n        items.map(\r\n          ({ breakpoint }) => `(${type}-width: ${breakpoint}px),${breakpoint}`\r\n        )\r\n      ),\r\n    ];\r\n\r\n    return uniqItems.map(item => {\r\n      const [query, breakpoint] = item.split(',');\r\n\r\n      return { query, breakpoint };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {MediaQueryList} matchMedia\r\n   * @param {dNodes} items\r\n   */\r\n  function getMediaHandler(matchMedia, items) {\r\n    return function mediaHandler() {\r\n      if (matchMedia.matches) {\r\n        items.forEach(item => {\r\n          moveTo(item);\r\n        });\r\n\r\n        items.reverse();\r\n      } else {\r\n        items.forEach(item => {\r\n          if (item.element.classList.contains(className)) {\r\n            moveBack(item);\r\n          }\r\n        });\r\n\r\n        items.reverse();\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} dNode\r\n   */\r\n  function moveTo(dNode) {\r\n    const { to, element, order } = dNode;\r\n    dNode.index = getIndexInParent(dNode.element, dNode.element.parentElement);\r\n    element.classList.add(className);\r\n\r\n    if (order === 'last' || order >= to.children.length) {\r\n      to.append(element);\r\n\r\n      return;\r\n    }\r\n\r\n    if (order === 'first') {\r\n      to.prepend(element);\r\n\r\n      return;\r\n    }\r\n\r\n    to.children[order].before(element);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} dNode\r\n   */\r\n  function moveBack(dNode) {\r\n    const { parent, element, index } = dNode;\r\n    element.classList.remove(className);\r\n\r\n    if (index >= 0 && parent.children[index]) {\r\n      parent.children[index].before(element);\r\n    } else {\r\n      parent.append(element);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @param {HTMLElement} parent\r\n   */\r\n  function getIndexInParent(element, parent) {\r\n    return [...parent.children].indexOf(element);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode[]} items\r\n   */\r\n  function sortDNodes(items) {\r\n    const isMin = type === 'min' ? 1 : 0;\r\n\r\n    return [...items].sort((a, b) => {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.order === b.order) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.order === 'first' || b.order === 'last') {\r\n          return -1 * isMin;\r\n        }\r\n\r\n        if (a.order === 'last' || b.order === 'first') {\r\n          return 1 * isMin;\r\n        }\r\n\r\n        return 0;\r\n      }\r\n\r\n      return (a.breakpoint - b.breakpoint) * isMin;\r\n    });\r\n  }\r\n\r\n  function isNumber(value) {\r\n    return !isNaN(value);\r\n  }\r\n}\r\n","import { burgerMenu } from './modules/burgerMenu';\r\nimport { useDynamicAdapt } from './modules/dynamicAdapt';\r\nimport { navDropdown } from './modules/navDropdown';\r\n\r\nuseDynamicAdapt();\r\nburgerMenu();\r\nnavDropdown();\r\n","export function burgerMenu() {\r\n  const btnOpen = document.querySelector('.header__burger');\r\n  const btnClose = document.querySelector('.menu__btn-close');\r\n  const menu = document.querySelector('.menu__backdrop');\r\n  const body = document.querySelector('body');\r\n\r\n  window.addEventListener(\r\n    'resize',\r\n    () => window.innerWidth > 1360 && closeMenu()\r\n  );\r\n  btnOpen.addEventListener('click', openMenu);\r\n  btnClose.addEventListener('click', closeMenu);\r\n  menu.addEventListener('click', closeMenu);\r\n\r\n  function openMenu() {\r\n    menu.classList.add('menu__backdrop--active');\r\n    btnOpen.classList.add('header__burger--active');\r\n    body.classList.add('locked');\r\n  }\r\n\r\n  function closeMenu() {\r\n    menu.classList.remove('menu__backdrop--active');\r\n    btnOpen.classList.remove('header__burger--active');\r\n    body.classList.remove('locked');\r\n  }\r\n}\r\n","export function navDropdown() {\r\n  const container = document.querySelector('.menu-dropdown');\r\n  const trigger = document.querySelector('.menu-dropdown__btn');\r\n  const options = document.querySelector('.menu-dropdown__options');\r\n  const icon = document.querySelector('.menu-dropdown__icon');\r\n\r\n  document.addEventListener('click', onClickOutside);\r\n\r\n  const triggerActiveClass = 'menu-dropdown__btn--active';\r\n  const iconActiveClass = 'menu-dropdown__icon--rotate';\r\n\r\n  function hideOptions() {\r\n    options.classList.add('menu-dropdown__options--hidden');\r\n    trigger.classList.remove(triggerActiveClass);\r\n    icon.classList.remove(iconActiveClass);\r\n  }\r\n\r\n  function onClickOutside(event) {\r\n    if (!container.contains(event.target)) {\r\n      hideOptions();\r\n    } else if (trigger.contains(event.target)) {\r\n      options.classList.toggle('menu-dropdown__options--hidden');\r\n      trigger.classList.toggle(triggerActiveClass);\r\n      icon.classList.toggle(iconActiveClass);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n}\r\n"],"names":["type","className","attrName","dNodes","result","document","querySelectorAll","forEach","element","attr","getAttribute","toSelector","breakpoint","order","split","map","val","trim","to","querySelector","value","push","parent","parentElement","undefined","isNaN","Number","index","items","isMin","sort","a","b","sortDNodes","getDNodes","Set","item","query","dMediaQuery","matchMedia","window","mediaHandler","matches","dNode","children","indexOf","getIndexInParent","classList","add","length","append","before","prepend","moveTo","reverse","contains","remove","moveBack","getMediaHandler","filter","addEventListener","useDynamicAdapt","btnOpen","btnClose","menu","body","closeMenu","innerWidth","burgerMenu","container","trigger","options","icon","event","target","toggle","triggerActiveClass","iconActiveClass","navDropdown"],"sourceRoot":""}